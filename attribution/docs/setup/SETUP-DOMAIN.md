# Настройка локального домена unmogrowp.local

## Шаг 1: Запуск скрипта настройки

### Вариант A: Автоматическая настройка (Рекомендуется)

1. Нажмите `Win + X` и выберите "Windows PowerShell (Администратор)"
2. Выполните команду:
   ```powershell
   cd C:\КОДИНГ\attribution
   .\setup-local-domain.ps1
   ```
3. Следуйте инструкциям на экране

### Вариант B: Ручная настройка

Если автоматический скрипт не работает, настройте вручную:

1. Откройте Notepad **от имени администратора**
2. Откройте файл: `C:\Windows\System32\drivers\etc\hosts`
3. Добавьте в конец файла:

```
# UnMoGrowP Local Development Domains
127.0.0.1    unmogrowp.local
127.0.0.1    api.unmogrowp.local
127.0.0.1    kafka.unmogrowp.local
```

4. Сохраните файл

## Шаг 2: Очистка DNS кэша

После редактирования hosts файла выполните:

```powershell
ipconfig /flushdns
```

## Шаг 3: Проверка настройки

Проверьте что домены резолвятся:

```powershell
ping unmogrowp.local
ping api.unmogrowp.local
ping kafka.unmogrowp.local
```

Вы должны увидеть ответы от `127.0.0.1`

## Настроенные домены

После настройки будут доступны:

| Домен | Порт | Сервис | Статус |
|-------|------|--------|--------|
| `unmogrowp.local` | 3000 | Next.js Frontend | Настроить Next.js |
| `api.unmogrowp.local` | 8000 | Go Backend API | Создать позже |
| `kafka.unmogrowp.local` | 8080 | Kafka UI | Уже работает |

## Проверка после настройки

1. **Kafka UI (уже работает):**
   - Откройте: http://kafka.unmogrowp.local:8080
   - Должен открыться Kafka UI интерфейс

2. **Next.js (после запуска npm run dev):**
   - Откройте: http://unmogrowp.local:3000
   - Должно открыться приложение Next.js

## Troubleshooting

### Домен не резолвится

1. Проверьте права администратора при редактировании hosts
2. Очистите DNS кэш: `ipconfig /flushdns`
3. Перезапустите браузер
4. Проверьте что в hosts файле нет опечаток

### Браузер не открывает сайт

1. Убедитесь что сервис запущен:
   - Next.js: `npm run dev`
   - Docker services: `docker-compose ps`

2. Проверьте что порт не занят:
   ```powershell
   netstat -ano | findstr :3000
   netstat -ano | findstr :8080
   ```

### Не работает в других браузерах

Попробуйте:
1. Очистить кэш браузера
2. Открыть в режиме инкогнито
3. Проверить что hosts файл сохранён правильно

## Следующие шаги

После успешной настройки домена:

1. ✅ Домены настроены
2. ⏭️ Настроить Next.js для работы с доменом
3. ⏭️ Запустить Next.js dev сервер
4. ⏭️ Открыть http://unmogrowp.local:3000

---

**Примечание:** Эти настройки работают только на вашем компьютере. Для доступа других пользователей потребуется ngrok или локальный DNS сервер.

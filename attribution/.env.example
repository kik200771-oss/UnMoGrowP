# =============================================================================
# UnMoGrowP Attribution Platform - Environment Configuration
# =============================================================================
# Copy this file to .env and configure your environment-specific values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL - Transactional database
POSTGRES_USER=attribution
POSTGRES_PASSWORD=your_secure_postgres_password
POSTGRES_DB=attribution
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgres://attribution:your_secure_postgres_password@localhost:5432/attribution?sslmode=disable

# Legacy naming support
DB_HOST=localhost
DB_PORT=5432
DB_NAME=attribution
DB_USER=attribution
DB_PASS=your_secure_postgres_password

# ClickHouse - Analytics database
CLICKHOUSE_USER=attribution
CLICKHOUSE_PASSWORD=your_secure_clickhouse_password
CLICKHOUSE_DB=attribution
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_URL=http://attribution:your_secure_clickhouse_password@localhost:8123/attribution

# Redis - Cache and session storage
REDIS_PASSWORD=your_secure_redis_password
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://default:your_secure_redis_password@localhost:6379

# =============================================================================
# MESSAGE QUEUE CONFIGURATION
# =============================================================================

# Kafka - Event streaming
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=attribution-platform
KAFKA_GROUP_ID=attribution-consumers

# Zookeeper
ZOOKEEPER_HOST=localhost
ZOOKEEPER_PORT=2181

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================

# API Gateway (Go)
API_GATEWAY_PORT=8080
API_GATEWAY_LOG_LEVEL=info
API_GATEWAY_JWT_SECRET=your_super_secret_jwt_key_256_bits_long
API_GATEWAY_CORS_ORIGINS=http://localhost:3000,http://localhost:3002
API_GATEWAY_RATE_LIMIT=1000

# Legacy naming support
BACKEND_PORT=8080
BACKEND_HOST=localhost

# API Gateway v2 (TypeScript/Bun)
API_GATEWAY_V2_PORT=3001
API_GATEWAY_V2_LOG_LEVEL=info

# Legacy naming support
API_PORT=3001
API_HOST=localhost
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# Ingestion Service
INGESTION_PORT=8080
INGESTION_METRICS_PORT=8081
INGESTION_LOG_LEVEL=info
INGESTION_WORKER_POOL_SIZE=50
INGESTION_BATCH_SIZE=100
INGESTION_BATCH_TIMEOUT=100ms

# Attribution Engine
ATTRIBUTION_PORT=8082
ATTRIBUTION_METRICS_PORT=8083
ATTRIBUTION_LOG_LEVEL=info
ATTRIBUTION_DEFAULT_MODEL=last_touch
ATTRIBUTION_WINDOW_HOURS=168
ATTRIBUTION_WORKER_POOL_SIZE=10

# Metrics Service
METRICS_PORT=8084
METRICS_LOG_LEVEL=info

# Analytics API (Python)
ANALYTICS_API_PORT=8085
ANALYTICS_API_LOG_LEVEL=info
ANALYTICS_API_WORKERS=4

# Attribution ML Service
ATTRIBUTION_ML_PORT=8086
ATTRIBUTION_ML_LOG_LEVEL=info
ATTRIBUTION_ML_WORKERS=2

# Fraud Detection Service
FRAUD_DETECTION_PORT=8087
FRAUD_DETECTION_LOG_LEVEL=info
FRAUD_DETECTION_WORKERS=2

# LTV Prediction Service
LTV_PREDICTION_PORT=8088
LTV_PREDICTION_LOG_LEVEL=info
LTV_PREDICTION_WORKERS=2

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Frontend (New Svelte 5)
FRONTEND_PORT=3000
FRONTEND_API_URL=http://localhost:8080
FRONTEND_WS_URL=ws://localhost:8080

# Web UI (Legacy)
WEB_UI_PORT=3002
WEB_UI_API_URL=http://localhost:8080
WEB_UI_WS_URL=ws://localhost:8080

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=15d

# Legacy naming support
METRICS_ENABLED=true

# Grafana
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_secure_grafana_password

# Jaeger
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268

# Legacy naming support
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_must_be_at_least_256_bits_long
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# API Keys
API_KEY_SECRET=your_api_key_secret_for_hashing
INTERNAL_API_KEY=your_internal_service_api_key

# Encryption
ENCRYPTION_KEY=your_32_character_encryption_key
DATA_ENCRYPTION_SALT=your_data_encryption_salt

# Legacy naming support
BCRYPT_ROUNDS=12
RATE_LIMIT_REQUESTS_PER_HOUR=1000
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# Slack Notifications (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email Service (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_smtp_password
FROM_EMAIL=noreply@attribution.platform

# Legacy naming support
SENDGRID_API_KEY=your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@unmogrowp.com

# OAuth Configuration
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# NextAuth Configuration (Legacy)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key-here

# Google reCAPTCHA v2 (Legacy)
NEXT_PUBLIC_RECAPTCHA_SITE_KEY=your-recaptcha-site-key
RECAPTCHA_SECRET_KEY=your-recaptcha-secret-key

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Environment
NODE_ENV=development
GO_ENV=development
PYTHON_ENV=development

# Debug Options
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_PROFILING=false
LOG_LEVEL=info

# Development URLs
DEV_API_URL=http://localhost:8080
DEV_FRONTEND_URL=http://localhost:3000

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================

# Production URLs (used in production deployment)
PRODUCTION_API_URL=https://api.attribution.platform
PRODUCTION_FRONTEND_URL=https://attribution.platform
PRODUCTION_WEBSOCKET_URL=wss://api.attribution.platform

# Load Balancer
LB_HEALTH_CHECK_INTERVAL=30s
LB_HEALTH_CHECK_TIMEOUT=10s

# SSL Configuration
SSL_CERT_PATH=/etc/ssl/certs/attribution.crt
SSL_KEY_PATH=/etc/ssl/private/attribution.key

# =============================================================================
# LEGACY CONFIGURATION (for migration)
# =============================================================================

# Anthropic API Key для UI/UX Agent
ANTHROPIC_API_KEY=your_api_key_here
